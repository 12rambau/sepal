<!DOCTYPE html>
<html>
<head>
    <title>Nepal</title>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="/css/leaflet.css"/>
    <style>
        body {
            padding: 0;
            margin: 0;
        }

        html, body, #map {
            height: 100%;
            width: 100%;
        }
    </style>
</head>
<body>
<div id="map"></div>

<script src="/js/leaflet.js"></script>
<script src="/js/leaflet-providers.js"></script>

<script>


    var baseLayers = {
        'Blue Marble': L.tileLayer.wms('http://rdc-snsf.org//diss_geoserver/gwc/service/wms', {
            layers: ['unredd:blue_marble'],
            format: 'image/png',
            transparent: true
        }),
        'Landsat - Before': create('Nepal Landsat Before'),
        'Landsat - After': create('Nepal Landsat After')
    };

    var overlayLayers = {
        'OpenStreetMap': L.tileLayer('http://otile{s}.mqcdn.com/tiles/1.0.0/{type}/{z}/{x}/{y}.{ext}', {
            type: 'hyb',
            ext: 'png',
            attribution: 'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
            subdomains: '1234',
            opacity: 0.9
        })
    };


    var map = L.map('map', {
        layers: [baseLayers['Landsat - After'], overlayLayers['OpenStreetMap']]
    });

    L.control.layers(baseLayers, overlayLayers).addTo(map);
    L.marker([28.15, 84.71]).addTo(map);
    map.fitBounds([[27.4, 86.6], [28.8, 84.5]]);


    function create(name) {
        return L.tileLayer.wms("http://54.171.194.37:8080/geoserver/Erik.Lindquist/wms", {
            layers: 'Erik.Lindquist:' + name,
            format: 'image/png',
            transparent: true,
            version: '1.1.0'
        });
    }
</script>
</body>
</html>